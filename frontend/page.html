<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compress.me</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- React and ReactDOM (Development Version) -->
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <!-- Babel is included to allow JSX syntax in script -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <header id="home">
        <h1>Welcome to Compress.me!</h1>
        <p>Your one-stop solution for file compression and encryption.</p>
    </header>

    <div id="root"></div> <!-- React will attach to this div -->

    <script type="text/babel">
        // React Component
        function App() {
            const handleFileUpload = (action) => {
                const fileInput = document.createElement('input');
                fileInput.type = 'file';
                fileInput.onchange = (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        // Create FormData and append the file
                        const formData = new FormData();
                        formData.append('file', file);

                        // Determine the appropriate URL based on action
                        const url = action === 'compress' ? '/compress' : '/decompress';

                        // Send the file to the server using fetch API
                        fetch(url, {
                            method: 'POST',
                            body: formData,
                        })
                        .then(response => response.text())
                        .then(result => {
                            alert('File processing complete.');
                            console.log(result);
                        })
                        .catch(error => {
                            console.error('Error:', error);
                        });
                    }
                };
                fileInput.click();
            };

            return (
                <main>
                    <div className="button-container">
                        <button className="upload-button" onClick={() => handleFileUpload('compress')}>Compress</button>
                        <button className="upload-button" onClick={() => handleFileUpload('decompress')}>Decompress</button>
                    </div>
                    <section id="features" className="feature-section">
                        <h2>Features</h2>
                        <div className="features">
                            <div className="feature">
                                <h3>User-Friendly</h3>
                                <p>Enjoy our easy-to-use interface, accessible to everyone.</p>
                            </div>
                            <div className="feature">
                                <h3>Secure Encryption</h3>
                                <p>Ensure your data's safety with military-grade encryption.</p>
                            </div>
                            <div className="feature">
                                <h3>Fast Compression</h3>
                                <p>Compress your files quickly and efficiently with our advanced algorithms.</p>
                            </div>
                        </div>
                    </section>
                </main>
            );
        }
        // Render React Component
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
    <footer>
        <p>Â© 2024 Compress.me - All rights reserved</p>
    </footer>
</body>
</html>